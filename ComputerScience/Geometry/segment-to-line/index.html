<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="Dmitriy Ivanov">
    <link rel="canonical" href="https://d-k-ivanov.github.io/docs/ComputerScience/Geometry/segment-to-line/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Finding the equation of a line for a segment - Technical Info</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Finding the equation of a line for a segment", url: "#_top", children: [
              {title: "Two-dimensional case", url: "#two-dimensional-case" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../mathjax-config.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-80208201-1', 'd-k-ivanov.github.io');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../segments-intersection/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../segments-intersection/" class="btn btn-xs btn-link">
        Finding Intersection of Two Segments
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../point-location/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../point-location/" class="btn btn-xs btn-link">
        Point location in O(log n)
      </a>
    </div>
    
  </div>

    

    <h1 id="finding-the-equation-of-a-line-for-a-segment">Finding the equation of a line for a segment</h1>
<p>The task is: given the coordinates of the ends of a segment, construct a line passing through it.</p>
<p>We assume that the segment is non-degenerate, i.e. has a length greater than zero (otherwise, of course, infinitely many different lines pass through it).</p>
<h2 id="two-dimensional-case">Two-dimensional case</h2>
<p>Let the given segment be <span><span class="MathJax_Preview">PQ</span><script type="math/tex">PQ</script></span> i.e. the known coordinates of its ends <span><span class="MathJax_Preview">P_x , P_y , Q_x , Q_y</span><script type="math/tex">P_x , P_y , Q_x , Q_y</script></span> .</p>
<p>It is necessary to construct <strong>the equation of a line in the plane</strong> passing through this segment, i.e. find the coefficients <span><span class="MathJax_Preview">A , B , C</span><script type="math/tex">A , B , C</script></span> in the equation of a line:</p>
<div>
<div class="MathJax_Preview">A x + B y + C = 0.</div>
<script type="math/tex; mode=display">A x + B y + C = 0.</script>
</div>
<p>Note that for the required triples <span><span class="MathJax_Preview">(A, B, C)</span><script type="math/tex">(A, B, C)</script></span> there are <strong>infinitely many</strong> solutions which describe the given segment:
you can multiply all three coefficients by an arbitrary non-zero number and get the same straight line.
Therefore, our task is to find one of these triples.</p>
<p>It is easy to verify (by substitution of these expressions and the coordinates of the points <span><span class="MathJax_Preview">P</span><script type="math/tex">P</script></span> and <span><span class="MathJax_Preview">Q</span><script type="math/tex">Q</script></span> into the equation of a straight line) that the following set of coefficients fits:</p>
<div>
<div class="MathJax_Preview">A = P_y - Q_y,$$
$$B = Q_x - P_x,$$
$$C = - A P_x - B P_y.</div>
<script type="math/tex; mode=display">A = P_y - Q_y,$$
$$B = Q_x - P_x,$$
$$C = - A P_x - B P_y.</script>
</div>
<h3 id="integer-case">Integer case</h3>
<p>An important advantage of this method of constructing a straight line is that if the coordinates of the ends were integer, then the coefficients obtained will also be <strong>integer</strong> . In some cases, this allows one to perform geometric operations without resorting to real numbers at all.</p>
<p>However, there is a small drawback: for the same straight line different triples of coefficients can be obtained.
To avoid this, but do not go away from the integer coefficients, you can apply the following technique, often called <strong>rationing</strong>. Find the <a href="./algebra/euclid-algorithm/">greatest common divisor</a> of numbers <span><span class="MathJax_Preview">| A | , | B | , | C |</span><script type="math/tex">| A | , | B | , | C |</script></span> , we divide all three coefficients by it, and then we make the normalization of the sign: if <span><span class="MathJax_Preview">A &lt;0</span><script type="math/tex">A <0</script></span> or <span><span class="MathJax_Preview">A = 0, B &lt;0</span><script type="math/tex">A = 0, B <0</script></span> then multiply all three coefficients by <span><span class="MathJax_Preview">-1</span><script type="math/tex">-1</script></span> .
As a result, we will come to the conclusion that for identical straight lines, identical triples of coefficients will be obtained, which makes it easy to check straight lines for equality.</p>
<h3 id="real-case">Real case</h3>
<p>When working with real numbers, you should always be aware of errors.</p>
<p>The coefficients <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> and <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span> will have the order of the original coordinates, the coefficient <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> is of the order of the square of them. This may already be quite large numbers, and, for example, when we <a href="./geometry/lines-intersection/">intersect straight lines</a>, they will become even larger, which can lead to large rounding errors already when the coordinates of the end points are of order <span><span class="MathJax_Preview">10^3</span><script type="math/tex">10^3</script></span>.</p>
<p>Therefore, when working with real numbers, it is desirable to produce the so-called <strong>normalization</strong>, this is straightforward: namely, to make the coefficients such that <span><span class="MathJax_Preview">A ^ 2 + B ^ 2 = 1</span><script type="math/tex">A ^ 2 + B ^ 2 = 1</script></span> . To do this, calculate the number <span><span class="MathJax_Preview">Z</span><script type="math/tex">Z</script></span> :</p>
<div>
<div class="MathJax_Preview">Z = \sqrt{A ^ 2 + B ^ 2},</div>
<script type="math/tex; mode=display">Z = \sqrt{A ^ 2 + B ^ 2},</script>
</div>
<p>and divide all three coefficients <span><span class="MathJax_Preview">A , B , C</span><script type="math/tex">A , B , C</script></span> by it.</p>
<p>Thus, the order of the coefficients <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> and <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span> will not depend on the order of the input coordinates, and the coefficient <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> will be of the same order as the input coordinates. In practice, this leads to a significant improvement in the accuracy of calculations.</p>
<p>Finally, we mention the <strong>comparison</strong> of straight lines - in fact, after such a normalization, for the same straight line, only two triples of coefficients can be obtained: up to multiplication by <span><span class="MathJax_Preview">-1</span><script type="math/tex">-1</script></span>.
Accordingly, if we make an additional normalization taking into account the sign (if <span><span class="MathJax_Preview">A &lt; -\varepsilon</span><script type="math/tex">A < -\varepsilon</script></span>  or <span><span class="MathJax_Preview">| A | &lt; \varepsilon</span><script type="math/tex">| A | < \varepsilon</script></span>, <span><span class="MathJax_Preview">B &lt;- \varepsilon</span><script type="math/tex">B <- \varepsilon</script></span> then multiply by <span><span class="MathJax_Preview">-1</span><script type="math/tex">-1</script></span> ), the resulting coefficients will be unique.</p>
<h3 id="three-dimensional-and-multidimensional-case">Three-dimensional and multidimensional case</h3>
<p>Already in the three-dimensional case there is <strong>no simple equation</strong> describing a straight line (it can be defined as the intersection of two planes, that is, a system of two equations, but this is an inconvenient method).</p>
<p>Consequently, in the three-dimensional and multidimensional cases we must use the <strong>parametric method of defining a straight line</strong> , i.e. as a point <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> and a vector <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> :</p>
<div>
<div class="MathJax_Preview">p + v t, ~~~ t \in \mathbb{R}.</div>
<script type="math/tex; mode=display">p + v t, ~~~ t \in \mathbb{R}.</script>
</div>
<p>Those. a straight line is all points that can be obtained from a point <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> adding a vector <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> with an arbitrary coefficient.</p>
<p>The <strong>construction</strong> of a straight line in a parametric form along the coordinates of the ends of a segment is trivial, we just take one end of the segment for the point <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span>, and the vector from the first to the second end — for the vector <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span>.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../segments-intersection/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../segments-intersection/" class="btn btn-xs btn-link">
        Finding Intersection of Two Segments
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../point-location/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../point-location/" class="btn btn-xs btn-link">
        Point location in O(log n)
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://d-k-ivanov.github.io/">Main site</a>
      </p><p>Copyright &copy; 2016-2020 Dmitriy Ivanov. <script type="text/javascript"> (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(40819844, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true }); </script> <noscript><div><img src="https://mc.yandex.ru/watch/40819844" style="position:absolute; left:-9999px;" alt="" /></div></noscript></p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>