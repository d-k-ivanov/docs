<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="Dmitry Ivanov">
    <link rel="canonical" href="https://d-k-ivanov.github.io/docs/Algorithms/Combinatorics/Stars_and_Bars/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Stars and Bars - Technical Info</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Stars and Bars", url: "#_top", children: [
              {title: "Theorem", url: "#theorem" },
              {title: "Number of non-negative integer sums", url: "#number-of-non-negative-integer-sums" },
              {title: "Number of lower-bound integer sums", url: "#number-of-lower-bound-integer-sums" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../mathjax-config.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-80208201-1', 'd-k-ivanov.github.io');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../Data_Structures/Deleting_from_Data_Structure/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../Data_Structures/Deleting_from_Data_Structure/" class="btn btn-xs btn-link">
        Deleting from Data Structure
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Inclusion-Exclusion_Principle/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Inclusion-Exclusion_Principle/" class="btn btn-xs btn-link">
        Inclusion-Exclusion Principle
      </a>
    </div>
    
  </div>

    

    <h1 id="stars-and-bars">Stars and Bars<a class="headerlink" href="#stars-and-bars" title="Permanent link">#</a></h1>
<p>Stars and bars is a mathematical technique for solving certain combinatorial problems.
It occurs whenever you want to count the number of ways to group identical objects.</p>
<h2 id="theorem">Theorem<a class="headerlink" href="#theorem" title="Permanent link">#</a></h2>
<p>The number of ways to put <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> identical objects into <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span> labeled boxes is
<span><span class="MathJax_Preview"><span><span class="MathJax_Preview">\binom{n + k - 1}{n}.</span><script type="math/tex">\binom{n + k - 1}{n}.</script></span></span><script type="math/tex"><span><span class="MathJax_Preview">\binom{n + k - 1}{n}.</span><script type="math/tex">\binom{n + k - 1}{n}.</script></span></script></span></p>
<p>The proof involves turning the objects into stars and separating the boxes using bars (therefore the name).
E.g. we can represent with <span><span class="MathJax_Preview">\bigstar | \bigstar \bigstar |~| \bigstar \bigstar</span><script type="math/tex">\bigstar | \bigstar \bigstar |~| \bigstar \bigstar</script></span> the following situation:
in the first box is one object, in the second box are two objects, the third one is empty and in the last box are two objects.
This is one way of dividing 5 objects into 4 boxes.</p>
<p>It should be pretty obvious, that every partition can be represented using <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> stars and <span><span class="MathJax_Preview">k - 1</span><script type="math/tex">k - 1</script></span> bars and every stars and bars permutation using <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> stars and <span><span class="MathJax_Preview">k - 1</span><script type="math/tex">k - 1</script></span> bars represents one partition.
Therefore the number of ways to divide <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> identical objects into <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span> labeled boxes is the same number as there are permutations of <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> stars and <span><span class="MathJax_Preview">k - 1</span><script type="math/tex">k - 1</script></span> bars.
The <a href="/docs/#Algorithms/Combinatorics/Binomial_Coefficients/">Binomial Coefficient</a> gives us the desired formula.</p>
<h2 id="number-of-non-negative-integer-sums">Number of non-negative integer sums<a class="headerlink" href="#number-of-non-negative-integer-sums" title="Permanent link">#</a></h2>
<p>This problem is a direct application of the theorem.</p>
<p>You want to count the number of solution of the equation
<span><span class="MathJax_Preview"><span><span class="MathJax_Preview">x_1 + x_2 + \dots + x_k = n</span><script type="math/tex">x_1 + x_2 + \dots + x_k = n</script></span></span><script type="math/tex"><span><span class="MathJax_Preview">x_1 + x_2 + \dots + x_k = n</span><script type="math/tex">x_1 + x_2 + \dots + x_k = n</script></span></script></span>
with <span><span class="MathJax_Preview">x_i \ge 0</span><script type="math/tex">x_i \ge 0</script></span>.</p>
<p>Again we can represent a solution using stars and bars.
E.g. the solution <span><span class="MathJax_Preview">1 + 3 + 0 = 4</span><script type="math/tex">1 + 3 + 0 = 4</script></span> for <span><span class="MathJax_Preview">n = 4</span><script type="math/tex">n = 4</script></span>, <span><span class="MathJax_Preview">k = 3</span><script type="math/tex">k = 3</script></span> can be represented using <span><span class="MathJax_Preview">\bigstar | \bigstar \bigstar \bigstar |</span><script type="math/tex">\bigstar | \bigstar \bigstar \bigstar |</script></span>.</p>
<p>It is easy to see, that this is exactly the stars an bars theorem.
Therefore the solution is <span><span class="MathJax_Preview">\binom{n + k - 1}{n}</span><script type="math/tex">\binom{n + k - 1}{n}</script></span>.</p>
<h2 id="number-of-lower-bound-integer-sums">Number of lower-bound integer sums<a class="headerlink" href="#number-of-lower-bound-integer-sums" title="Permanent link">#</a></h2>
<p>This can easily be extended to integer sums with different lower bounds.
I.e. we want to count the number of solutions for  the equation
<span><span class="MathJax_Preview"><span><span class="MathJax_Preview">x_1 + x_2 + \dots + x_k = n</span><script type="math/tex">x_1 + x_2 + \dots + x_k = n</script></span></span><script type="math/tex"><span><span class="MathJax_Preview">x_1 + x_2 + \dots + x_k = n</span><script type="math/tex">x_1 + x_2 + \dots + x_k = n</script></span></script></span>
with <span><span class="MathJax_Preview">x_i \ge a_i</span><script type="math/tex">x_i \ge a_i</script></span>.</p>
<p>After substituting <span><span class="MathJax_Preview">x_i' := x_i - a_i</span><script type="math/tex">x_i' := x_i - a_i</script></span> we receive the modified equation
<span><span class="MathJax_Preview"><span><span class="MathJax_Preview">(x_1' + a_i) + (x_2' + a_i) + \dots + (x_k' + a_k) = n</span><script type="math/tex">(x_1' + a_i) + (x_2' + a_i) + \dots + (x_k' + a_k) = n</script></span></span><script type="math/tex"><span><span class="MathJax_Preview">(x_1' + a_i) + (x_2' + a_i) + \dots + (x_k' + a_k) = n</span><script type="math/tex">(x_1' + a_i) + (x_2' + a_i) + \dots + (x_k' + a_k) = n</script></span></script></span>
<span><span class="MathJax_Preview"><span><span class="MathJax_Preview">\Leftrightarrow ~ ~ x_1' + x_2' + \dots + x_k' = n - a_1 - a_2 - \dots - a_k</span><script type="math/tex">\Leftrightarrow ~ ~ x_1' + x_2' + \dots + x_k' = n - a_1 - a_2 - \dots - a_k</script></span></span><script type="math/tex"><span><span class="MathJax_Preview">\Leftrightarrow ~ ~ x_1' + x_2' + \dots + x_k' = n - a_1 - a_2 - \dots - a_k</span><script type="math/tex">\Leftrightarrow ~ ~ x_1' + x_2' + \dots + x_k' = n - a_1 - a_2 - \dots - a_k</script></span></script></span>
with <span><span class="MathJax_Preview">x_i' \ge 0</span><script type="math/tex">x_i' \ge 0</script></span>.
So we have reduced the problem to the simpler case with <span><span class="MathJax_Preview">x_i' \ge 0</span><script type="math/tex">x_i' \ge 0</script></span> and again can apply the stars and bars theorem.</p>

  <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://d-k-ivanov.github.io/">Main site</a>
      </p><p>Copyright &copy; 2016-2020 Dmitry Ivanov. <script type="text/javascript"> (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(40819844, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true }); </script> <noscript><div><img src="https://mc.yandex.ru/watch/40819844" style="position:absolute; left:-9999px;" alt="" /></div></noscript></p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>